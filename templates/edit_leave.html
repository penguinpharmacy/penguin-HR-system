<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>{{ leave_type }} 紀錄編輯</title>
  <link href="/static/style.css" rel="stylesheet">
</head>
<body class="p-4">
  <h1 class="text-2xl mb-4">{{ leave_type }} 紀錄編輯</h1>
  <a href="{{ url_for('leave_history', emp_id=emp_id, leave_type=leave_type) }}"
     class="text-blue-600 mb-4 inline-block">← 返回紀錄</a>

  <form action="{{ url_for('edit_leave_record',
                           emp_id=emp_id,
                           leave_type=leave_type,
                           record_id=record_id) }}"
        method="post"
        class="space-y-4">
    <div>
      <label>開始日期：
        <input type="date" name="start_date" value="{{ start_date }}" required class="border px-2 py-1">
      </label>
    </div>
    <div>
      <label>結束日期：
        <input type="date" name="end_date" value="{{ end_date }}" required class="border px-2 py-1">
      </label>
    </div>
    <div>
      <label>時數（小時，最小 0.5）：
        <input type="number"
               name="hours"
               step="0.5"
               min="0.5"
               value="{{ hours if hours is defined else ((days or 0) * 8) }}"
               required class="border px-2 py-1 w-32">
      </label>
      <div class="text-sm text-gray-600 mt-1">（原本的「天數」已改為「小時」，例如 1 天 = 8 小時）</div>
    </div>
    <div>
      <label>備註：
        <input type="text" name="note" value="{{ note }}" class="border px-2 py-1 w-full">
      </label>
    </div>
    <div>
      <button type="submit" class="px-4 py-2 bg-blue-500 text-white rounded">儲存修改</button>
      <a href="{{ url_for('leave_history', emp_id=emp_id, leave_type=leave_type) }}"
         class="ml-4 text-gray-600">取消</a>
    </div>
  </form>
</body>
</html>
